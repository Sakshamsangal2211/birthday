<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Anisha 🎂</title>
<script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js"></script>
<style>
  body {
    margin: 0;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    font-family: 'Comic Sans MS', cursive;
    overflow: hidden;
    text-align: center;
  }

  h1 {
    color: #fff;
    font-size: 3em;
    margin-top: 30px;
    text-shadow: 2px 2px 8px #00000080;
  }

  .cake {
    position: relative;
    margin: 50px auto 0;
    width: 200px;
    height: 150px;
    background: #ff6f61;
    border-radius: 10px 10px 0 0;
    box-shadow: 0 8px #e94e77;
    cursor: pointer;
  }

  .flame {
    position: absolute;
    top: -30px;
    left: 50%;
    width: 15px;
    height: 30px;
    background: radial-gradient(circle, yellow 40%, orange 60%, red 100%);
    border-radius: 50%;
    transform: translateX(-50%);
    animation: flicker 0.3s infinite alternate;
  }

  @keyframes flicker {
    from { transform: translateX(-50%) scale(1); opacity: 1; }
    to { transform: translateX(-50%) scale(1.2); opacity: 0.7; }
  }

  .tap-text {
    position: absolute;
    width: 100%;
    top: 50%;
    left: 0;
    transform: translateY(-50%);
    font-size: 1.3em;
    color: #fff;
    text-shadow: 2px 2px 5px #000;
  }

  .message {
    color: #fff;
    font-size: 2em;
    margin-top: 30px;
    font-weight: bold;
    text-shadow: 2px 2px 8px #00000070;
  }

  .photo {
    margin: 50px auto;
    width: 300px;
    border-radius: 20px;
    border: 5px solid white;
    display: block;
  }

  .balloon-btn {
    font-size: 2em;
    background: none;
    border: none;
    cursor: pointer;
    margin-top: 20px;
    animation: float 2s ease-in-out infinite;
  }

  @keyframes float {
    0% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
    100% { transform: translateY(0); }
  }

  #cake-counter, #reel-counter {
    color: white;
    font-size: 1.2em;
    margin-top: 10px;
    text-shadow: 1px 1px 4px #000;
  }

  canvas {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
  }
</style>
</head>
<body>

<h1>🎉 Happy Birthday Anisha 🎉</h1>

<div class="cake" id="cake">
  <div class="flame"></div>
  <div class="tap-text">Tap Me 🎂</div>
</div>

<div id="cake-counter">Cake tapped 0 times 🍰</div>

<img src="https://raw.githubusercontent.com/Sakshamsangal2211/birthday/main/ani.png" alt="Her Beautiful Photo" class="photo">

<button class="balloon-btn" id="play-btn">🎈🎈🎈🎈</button>

<div id="reel-counter">Reel opened 0 times 🎈</div>

<div class="message">Stay Happy 💕</div>

<audio id="bg-music" loop>
  <source src="https://raw.githubusercontent.com/Sakshamsangal2211/birthday/main/kangna-tera-ni-various_Jlf1feeW.mp3" type="audio/mpeg">
</audio>

<canvas id="confetti"></canvas>

<script>
// 🔥 Replace this with your Firebase config:
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
  databaseURL: "https://YOUR_PROJECT_ID-default-rtdb.firebaseio.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT_ID.appspot.com",
  messagingSenderId: "YOUR_SENDER_ID",
  appId: "YOUR_APP_ID"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// References
const cakeRef = db.ref("cakeClicks");
const reelRef = db.ref("reelClicks");

// Display real-time counts
cakeRef.on("value", (snapshot) => {
  document.getElementById("cake-counter").textContent = `Cake tapped ${snapshot.val() || 0} times 🍰`;
});
reelRef.on("value", (snapshot) => {
  document.getElementById("reel-counter").textContent = `Reel opened ${snapshot.val() || 0} times 🎈`;
});

// 🎂 Cake click logic
document.getElementById("cake").addEventListener("click", () => {
  const music = document.getElementById("bg-music");
  music.play().catch(() => {});
  cakeRef.transaction((current) => (current || 0) + 1);
});

// 🎈 Reel button logic
document.getElementById("play-btn").addEventListener("click", () => {
  reelRef.transaction((current) => (current || 0) + 1);
  window.open('https://www.instagram.com/reel/C_xrs38PJ2X/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA==', '_blank');
});

// 🎊 Confetti animation
const canvas = document.getElementById('confetti');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
let confetti = [];
const colors = ['#00FF00','#A7FF83','#9DFF00','#C8FFB0','#7FFF00'];

for(let i=0;i<200;i++){
  confetti.push({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    r: Math.random()*6+2,
    d: Math.random()*10,
    color: colors[Math.floor(Math.random()*colors.length)],
    tilt: Math.random()*10 - 10,
    tiltAngleIncremental: Math.random()*0.07 + 0.05,
    tiltAngle: 0
  });
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(let i=0;i<confetti.length;i++){
    let c = confetti[i];
    ctx.beginPath();
    ctx.lineWidth = c.r/2;
    ctx.strokeStyle = c.color;
    ctx.moveTo(c.x + c.tilt + c.r/4, c.y);
    ctx.lineTo(c.x + c.tilt, c.y + c.tilt + c.r/4);
    ctx.stroke();
  }
  update();
}

function update(){
  for(let i=0;i<confetti.length;i++){
    let c = confetti[i];
    c.tiltAngle += c.tiltAngleIncremental;
    c.y += (Math.cos(c.d) + 3 + c.r/2)/2;
    c.x += Math.sin(c.d);
    c.tilt = Math.sin(c.tiltAngle)*15;
    if(c.y > canvas.height){
      c.x = Math.random()*canvas.width;
      c.y = -20;
      c.tilt = Math.random()*10 - 10;
    }
  }
}

function animate(){ draw(); requestAnimationFrame(animate); }
animate();
</script>

</body>
</html>
